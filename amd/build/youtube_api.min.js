define ("filter_mbsyoutube/youtube_api",["jquery"],function(a){return{init:function init(b){var i={};c();var j=new MutationObserver(function(){if(0<a(".mbsyoutube-ytiframe").length){c()}});j.observe(document,{subtree:!0,attributes:!0});function c(){a(".mbsyoutube-ytiframe").each(function(){var a=this.id.split("___"),b=a[2],c=a[1];i=h(b,"data-extern",c)});a(document).ready(function(){d()})}function d(){if("undefined"==typeof YT||"undefined"==typeof YT.Player){var b=document.createElement("script");b.src="https://www.youtube.com/iframe_api";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c);window.onYouTubePlayerAPIReady=function(){a.each(i,function(a,b){e(b.videoid,b.ytparam,a)})}}else{a.each(i,function(a,b){e(b.videoid,b.ytparam,a)})}}var k={};function e(b,c,d){k[d]=new YT.Player("yt___"+d+"___"+b,{videoId:b,playerVars:c,events:{onStateChange:f,onError:g}});a("#yt___baroverlay___"+d+"___"+b).click(function(){var a=this.id.split("___"),b=a[2],c=k[b].getPlayerState();if(c==YT.PlayerState.PLAYING){k[b].pauseVideo()}else{k[b].playVideo()}})}function f(c){var d=c.target.a.id,e=d.split("___"),f=e[2],g=e[1];a("#yt___statwrap___"+g+"___"+f).removeAttr("hidden");a("#yt___restart___"+g+"___"+f).removeAttr("hidden");a("#yt___restart___"+g+"___"+f).hide();a("#yt___baroverlay___"+g+"___"+f).removeAttr("hidden");a("#yt___baroverlay___"+g+"___"+f).hide();if(c.data==YT.PlayerState.PLAYING){i=h(f,"data-extern",g);b=i[g].ytparam;if(""==b.end||0==b.end){delete b.end}if(k[g].getCurrentTime()>b.end||k[g].getCurrentTime()<b.start){k[g].loadVideoById({videoId:f,startSeconds:b.start,endSeconds:b.end})}a("#"+d).show()}else if(c.data==YT.PlayerState.ENDED){a("#yt___play___"+g+"___"+f).hide();a("#yt___restart___"+g+"___"+f).show();a("#yt___statwrap___"+g+"___"+f).show();a("#yt___baroverlay___"+g+"___"+f).hide();a("#"+d).hide()}else if(c.data==YT.PlayerState.PAUSED){a("#yt___baroverlay___"+g+"___"+f).show();a("#yt___restart___"+g+"___"+f).hide();a("#yt___statwrap___"+g+"___"+f).show()}}function g(a){if(100==a.data){window.console.log("Error - The video is not accessable!")}}function h(b,c,d){var e=a.parseJSON(a("#yt___"+d+"___"+b).attr(c));i[d]={};i[d].ytparam={};i[d].videoid=b;a.each(e,function(a,b){i[d].ytparam[a]=b});return i}a(".mbsyoutube-yt-play").click(function(b){var c=b.target.id,d=c.split("___"),e=d[2],f=d[3];a("#yt___"+e+"___"+f).delay(200).fadeIn(400);k[e].playVideo()});a(".mbsyoutube-yt-restart").click(function(c){var d=c.target.id,e=d.split("___"),f=e[2],g=e[3];a("#yt___"+f+"___"+g).delay(200).fadeIn(400);i=h(g,"data-extern",f);b=i[f].ytparam;k[f].loadVideoById({videoId:g,startSeconds:b.start,endSeconds:b.end})})}}});
//# sourceMappingURL=youtube_api.min.js.map

define("filter_mbsyoutube/youtube_api",["exports"],(function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0;
/**
   * Javascript controller YouTube Videos.
   *
   * @module     filter_mbsyoutube/youtube_api
   * @copyright  2019 Peter Mayer, ISB Bayern, peter.mayer@isb.bayern.de
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */
let videos={},players={};function initPlayer(){document.querySelectorAll(".mbsyoutube-ytiframe").forEach((function(node){var playerid=node.id.split("___");!function(videoid,attribut,uniqid){var jsonobj=JSON.parse(document.getElementById("yt___"+uniqid+"___"+videoid).getAttribute(attribut));videos[uniqid]={ytparam:jsonobj,videoid:videoid}}(playerid[2],"data-extern",playerid[1])})),function(){for(const[key,value]of Object.entries(videos))createYouTubePlayer(value.videoid,value.ytparam,key)}()}function createYouTubePlayer(videoid,ytparam,uniqeid){const targetElement=document.getElementById("yt___"+uniqeid+"___"+videoid);targetElement&&targetElement.removeAttribute("hidden"),players[uniqeid]=new YT.Player("yt___"+uniqeid+"___"+videoid,{videoId:videoid,playerVars:ytparam,events:{onError:catchError}})}function catchError(event){100==event.data&&window.console.log("Error - The video is not accessible!")}_exports.init=function(){let loaded=arguments.length>0&&void 0!==arguments[0]&&arguments[0];loaded||window.addEventListener("load",initPlayer,!1);var observer=new MutationObserver((function(){document.querySelectorAll(".mbsyoutube-ytiframe").length>0&&initPlayer()}));observer.observe(document,{subtree:!0,childList:!0})}}));

//# sourceMappingURL=youtube_api.min.js.map